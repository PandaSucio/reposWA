{% extends 'base.html' %} {% block content %}
<div id="background-container" style="position: relative; overflow: hidden">
  <div
    id="background"
    style="
      background-image: url('https://gmedia.playstation.com/is/image/SIEPDC/ps4-overview-banner-hero-desktop-01-ps4-29jul20$en-us?$2400px$');
      background-size: cover;
      background-position: center;
      position: relative;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      box-sizing: border-box;
      overflow: hidden;
    "
  >
    <!-- Capa de filtro oscuro -->
    <div
      style="
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background: linear-gradient(
          rgba(0, 0, 0, 0.3),
          rgba(0, 0, 0, 0.3)
        ); /* Fondo oscuro semi-transparente con gradiente lineal */
        border-bottom-left-radius: 20px;
        border-bottom-right-radius: 20px;
        border-top-left-radius: 20px;
        border-top-right-radius: 20px;
        box-sizing: border-box;
        z-index: 1; /* Asegura que esta capa estÃ© detrÃ¡s de otros elementos */
      "
    ></div>

    <h1
      class="no-darken"
      style="
        color: rgb(255, 255, 255);
        direction: ltr;
        display: block;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 48px;
        font-style: normal;
        font-synthesis-small-caps: none;
        font-synthesis-style: none;
        font-synthesis-weight: none;
        font-weight: 600;
        letter-spacing: -0.144px;
        line-height: 52.007679px;
        margin-block: 7.2px 0px;
        margin-bottom: 0px;
        margin-inline: 0px;
        margin-left: 0px;
        margin-right: 0px;
        padding-bottom: 5% !important;
        padding-left: 0px;
        padding-right: 0px;
        quotes: auto;
        text-align: center;
        height: 200px !important;
        padding-top: 10% !important;
        margin-top: 5% !important;
        position: relative;
        z-index: 2; /* Asegura que este elemento estÃ© sobre la capa de filtro oscuro */
      "
    >
      Juegos
    </h1>
    &nbsp;
    <a
      href="/juegos/create"
      class="btn btn-primary no-darken"
      style="
        border: 1px solid rgba(0, 0, 0, 0);
        border-radius: 980px;
        box-sizing: content-box;
        color: rgb(255, 255, 255);
        background-image: linear-gradient(
          90deg,
          rgb(245, 103, 114),
          rgb(186, 107, 255)
        );
        margin-left: 44.5% !important;
        margin-right: 44% !important;
        position: relative;
        z-index: 2; /* Asegura que este elemento estÃ© sobre la capa de filtro oscuro */
      "
    >
      <button type="button" class="btn" style="color: rgb(255, 255, 255)">
        Crear Juegos
      </button>
    </a>

    <!-- Texto despuÃ©s del botÃ³n -->
    <p
      class="no-darken"
      style="
        color: rgb(255, 255, 255);
        direction: ltr;
        display: block;
        font-family: Helvetica, Arial, sans-serif;
        font-size: 28px;
        font-style: normal;
        font-synthesis-small-caps: none;
        font-synthesis-style: none;
        font-synthesis-weight: none;
        font-weight: 400;
        letter-spacing: 0.196px;
        line-height: 36.003361px;
        margin-block: 18.200001px 24px;
        margin-inline: 0px;
        padding: 0px;
        quotes: auto;
        text-align: center;
        -webkit-font-smoothing: antialiased;
        margin: 100px 10% !important;
        position: relative;
        z-index: 2; /* Asegura que este elemento estÃ© sobre la capa de filtro oscuro */
      "
    >
      Â¡El prÃ³ximo gran juego podrÃ­a ser tuyo!
      <br />
      ðŸš€ðŸŽ® #CreaJuegos #InnovaciÃ³nGamer
    </p>
  </div>
</div>

<style>
  .no-darken {
    z-index: 2; /* Asegura que los elementos con esta clase estÃ©n sobre la capa de filtro oscuro */
  }
</style>

<style>
  /* Estilos para la tarjeta */
  .card-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-around;
  }

  .card {
    width: 200px;
    height: 300px;
    background-size: cover;
    background-position: center;
    position: relative;
    margin: 10px;
    cursor: pointer;
    overflow: hidden;
    transition: transform 0.3s ease-in-out;
  }

  .card:hover {
    transform: scale(1.1);
  }

  .card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1;
  }

  .card-content {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 20px;
    box-sizing: border-box;
    color: #fff;
    z-index: 2;
  }

  .card-header h3,
  .card-header p {
    margin: 0;
    padding: 0;
    line-height: 1.5;
  }

  .card-body {
    margin-top: 20px;
  }

  .details {
    display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 0, 0, 0.8);
    padding: 20px;
    box-sizing: border-box;
    color: #fff;
    z-index: 3;
  }
  #background-container {
    width: 100%;
    height: 100vh;
    overflow: hidden;
    position: relative;
  }

  #background {
    width: 100%;
    height: 100%;
    background: #3498db; /* Cambia esto al color de fondo deseado */
    position: absolute;
    transition: height 0.2s ease-out; /* Agrega una transiciÃ³n para hacerlo mÃ¡s suave */
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
  }

  th,
  td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: left;
  }

  th {
    background-color: #f2f2f2;
  }

  .details {
    display: none;
  }

  .card-container {
    display: flex;
    flex-wrap: wrap;
  }

  .card {
    position: relative;
    border-radius: 8px;
    margin: 10px;
    width: 300px;
    height: 400px; /* Ajusta segÃºn sea necesario */
    background-size: cover;
    background-position: center;
    color: #fff;
    overflow: hidden;
  }

  .card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Fondo oscuro transparente */
  }

  .card-content {
    position: relative;
    z-index: 1; /* Asegura que el contenido estÃ© sobre el fondo */
  }

  .card-header,
  .card-body {
    padding: 10px;
  }

  .details {
    display: none;
  }

  button {
    background-color: #333;
    color: #fff;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
  }

  button:hover {
    background-color: #555;
  }
</style>
<form
  id="search-form"
  style="margin-left: 0px !important; margin-right: 30% !important"
>
  <svg
    for="search-input"
    width="38"
    height="40"
    viewBox="0 0 38 40"
    xmlns="http://www.w3.org/2000/svg"
  ></svg>
  <input
    style="
      accent-color: auto;
      appearance: auto;
      background-color: rgba(126, 35, 49, 0.29);
      border: 0px rgb(232, 232, 237);
      border-radius: 0px;
      border-collapse: separate;
      box-sizing: border-box;
      caption-side: top;
      caret-color: rgb(232, 232, 237);
      clip-rule: nonzero;
      color: rgb(232, 232, 237);
      color-interpolation: srgb;
      color-interpolation-filters: linearrgb;
      color-scheme: normal;
      cursor: auto;
      direction: ltr;
      display: block;
      empty-cells: show;
      fill: rgb(0, 0, 0);
      fill-opacity: 1;
      fill-rule: nonzero;
      font-family: Helvetica, Arial, sans-serif;
      font-feature-settings: normal;
      font-kerning: auto;
      font-optical-sizing: auto;
      font-palette: normal;
      font-size: 28px;
      font-size-adjust: none;
      font-stretch: 100%;
      font-style: normal;
      font-synthesis-small-caps: none;
      font-synthesis-style: none;
      font-synthesis-weight: none;
      font-variant-alternates: normal;
      font-variant-caps: normal;
      font-variant-east-asian: normal;
      font-variant-ligatures: normal;
      font-variant-numeric: normal;
      font-variant-position: normal;
      font-variation-settings: normal;
      font-weight: 600;
      glyph-orientation-horizontal: 0deg;
      glyph-orientation-vertical: auto;
      hanging-punctuation: none;
      height: 40px;
      hyphenate-character: auto;
      hyphens: manual;
      image-orientation: from-image;
      image-rendering: auto;
      kerning: 0px;
      letter-spacing: 0.196px;
      line-break: auto;
      line-height: 32px;
      list-style: none;
      margin-inline: -38px -33px;
      margin-left: 36% !important;
      margin-right: 35% !important;
      margin-top: 0px;
      marker: none;
      overflow-wrap: normal;
      padding: 0px 38px 0px 42px;
      padding-inline: 42px 38px;
      pointer-events: auto;
      position: relative;
      print-color-adjust: economy;
      quotes: auto;
      resize: none;
      shape-rendering: auto;
      speak-as: normal;
      stroke: none;
      stroke-color: rgba(0, 0, 0, 0);
      stroke-dasharray: none;
      stroke-dashoffset: 0px;
      stroke-linecap: butt;
      stroke-linejoin: miter;
      stroke-miterlimit: 4;
      stroke-opacity: 1;
      stroke-width: 1px;
      tab-size: 8;
      text-align: left;
      text-align-last: auto;
      text-anchor: start;
      text-combine-upright: none;
      text-decoration-skip-ink: auto;
      text-emphasis-color: rgb(232, 232, 237);
      text-emphasis-position: over;
      text-emphasis-style: none;
      text-indent: 0px;
      text-orientation: mixed;
      text-rendering: auto;
      text-shadow: none;
      text-transform: none;
      text-underline-offset: auto;
      text-underline-position: auto;
      visibility: visible;
      width: 395px;
      word-break: normal;
      word-spacing: 0px;
      writing-mode: horizontal-tb;
      z-index: 1;
      border-spacing: 0px;
      -webkit-box-direction: normal;
      -webkit-cursor-visibility: auto;
      -webkit-font-smoothing: antialiased;
      -webkit-hyphenate-limit-after: auto;
      -webkit-hyphenate-limit-before: auto;
      -webkit-hyphenate-limit-lines: no-limit;
      -webkit-line-align: none;
      -webkit-line-box-contain: block inline replaced;
      -webkit-line-grid: none;
      -webkit-line-snap: none;
      -webkit-nbsp-mode: normal;
      -webkit-rtl-ordering: logical;
      -webkit-ruby-position: before;
      -webkit-text-combine: none;
      -webkit-text-decorations-in-effect: none;
      -webkit-text-fill-color: rgb(232, 232, 237);
      -webkit-text-security: none;
      -webkit-text-stroke-color: rgb(232, 232, 237);
      -webkit-text-stroke-width: 0px;
      -webkit-text-zoom: normal;
      -webkit-user-modify: read-only;
      -webkit-user-select: text;
      margin-bottom: 5% !important;
    "
    type="text"
    id="search-input"
    oninput="searchCards()"
    placeholder="BÃºsqueda"
  />
</form>

<div class="card-container">
  {% for juego in juegos %}
  <div class="card" style="background-image: url('{{ juego.portada_url }}');">
    <div class="card-overlay"></div>
    <div class="card-content">
      <div class="card-header">
        <h3>{{ juego.titulo }}</h3>
        <p>{{ juego.desarrollador }}</p>
        <p>{{ juego.lanzamiento }}</p>
      </div>
      <div class="card-body">
        <button onclick="toggleDetails('{{ juego.titulo }}')">Detalles</button>
        <div class="details" id="{{ juego.titulo }}">
          <p>InformaciÃ³n detallada.</p>
          <p>{{ juego.genero }}</p>
          <p>{{ juego.jugadores }}</p>
        </div>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
<script>
  function searchCards() {
    // Obtener el valor de bÃºsqueda
    var searchTerm = document
      .getElementById('search-input')
      .value.toLowerCase();

    // Obtener todas las tarjetas
    var cards = document.querySelectorAll('.card');

    // Iterar sobre cada tarjeta y mostrar/ocultar segÃºn el criterio de bÃºsqueda
    cards.forEach(function (card) {
      var titulo = card.getAttribute('data-titulo').toLowerCase();
      var desarrollador = card.getAttribute('data-desarrollador').toLowerCase();
      var lanzamiento = card.getAttribute('data-lanzamiento').toLowerCase();

      if (
        titulo.includes(searchTerm) ||
        desarrollador.includes(searchTerm) ||
        lanzamiento.includes(searchTerm)
      ) {
        card.style.display = 'block'; // Mostrar la tarjeta si coincide con la bÃºsqueda
      } else {
        card.style.display = 'none'; // Ocultar la tarjeta si no coincide con la bÃºsqueda
      }
    });
  }
</script>

<script>
  $(document).ready(function () {
    $('.card').hover(
      function () {
        $(this).find('.card-content').addClass('active');
      },
      function () {
        $(this).find('.card-content').removeClass('active');
      }
    );

    $('.card').click(function () {
      $(this).find('.details').toggle();
    });
  });
</script>

<script>
  function toggleDetails(titulo) {
    $('#' + titulo).toggle();
  }
</script>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

<script>
  var backgroundContainer = document.getElementById('background-container');
  var background = document.getElementById('background');
  var requestId;

  function animateBackground() {
    var scrollPosition = window.scrollY;
    background.style.height = 100 - scrollPosition * 0.1 + 'vh';
    requestId = requestAnimationFrame(animateBackground);
  }

  window.addEventListener('scroll', function () {
    if (!requestId) {
      requestId = requestAnimationFrame(animateBackground);
    }
  });

  // Detener la animaciÃ³n cuando la pÃ¡gina estÃ¡ inactiva para mejorar el rendimiento
  window.addEventListener('blur', function () {
    cancelAnimationFrame(requestId);
    requestId = null;
  });

  window.addEventListener('focus', function () {
    if (!requestId) {
      requestId = requestAnimationFrame(animateBackground);
    }
  });
</script>

<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}
